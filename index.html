<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/plyr@3.7.8/dist/plyr.css">

<style>
    html,body{
        margin:0;
        padding:0;
        height:100%;
        background:#000;
        overflow:hidden;
    }
    #player{
        width:100vw;
        height:100vh;
    }
</style>
</head>
<body>

<div id="player"></div>

<script src="https://cdn.jsdelivr.net/npm/plyr@3.7.8/dist/plyr.polyfilled.min.js"></script>

<script>
const urlParams = new URLSearchParams(window.location.search);
let inputURL = urlParams.get("url");

function extractID(url){
    if(!url) return null;
    url = url.split("&")[0];            
    url = url.split("?si=")[0];         
    return new URL(url).searchParams.get("v") ||
           url.split("youtu.be/")[1]?.split("?")[0] ||
           url.split("/live/")[1]?.split("?")[0] ||
           url.split("/shorts/")[1]?.split("?")[0] ||
           null;
}

const videoID = extractID(inputURL);

if(videoID){
   document.querySelector("#player").setAttribute("data-plyr-provider","youtube");
   document.querySelector("#player").setAttribute("data-plyr-embed-id",videoID);

   new Plyr('#player',{
      autoplay:true,
      muted:true,
      clickToPlay:false,
      controls:['play','progress','current-time','mute','volume','settings','pip','airplay','fullscreen'],
      youtube:{
         noCookie:true,
         params:{ modestbranding:1, rel:0, iv_load_policy:3, playsinline:1 }
      }
   });

}else{
   document.body.innerHTML="<h2 style='color:white;text-align:center;padding-top:30vh'>Use â†’  ?url=YOUTUBE_LINK</h2>";
}
</script>

</body>
</html>
